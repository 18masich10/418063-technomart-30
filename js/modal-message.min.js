const messageLink=document.querySelector(".company__details-address"),messagePopup=document.querySelector(".modal__message"),messageClose=messagePopup.querySelector(".modal__close-message"),messageForm=messagePopup.querySelector(".modal__message-form"),messageUserName=messagePopup.querySelector("[name=name]"),messageUserEmail=messagePopup.querySelector("[name=email]"),messageUserText=messagePopup.querySelector("[name=message]");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}messageLink.addEventListener("click",function(e){e.preventDefault(),messagePopup.classList.add("modal-show"),storage?(messageUserName.value=storage,messageUserEmail.focus()):messageUserName.focus()}),messageClose.addEventListener("click",function(e){e.preventDefault(),messagePopup.classList.remove("modal-show"),messagePopup.classList.remove("modal-error")}),messageForm.addEventListener("submit",function(e){messageUserName.value&&messageUserEmail.value&&messageUserText.value?isStorageSupport&&localStorage.setItem("name",messageUserName.value):(e.preventDefault(),messagePopup.classList.remove("modal-error"),messagePopup.offsetWidth=messagePopup.offsetWidth,messagePopup.classList.add("modal-error"))}),messageUserName.required=!1,messageUserEmail.required=!1,window.addEventListener("keydown",function(e){27===e.keyCode&&messagePopup.classList.contains("modal-show")&&(e.preventDefault(),messagePopup.classList.remove("modal-show"),messagePopup.classList.remove("modal-error"))});
